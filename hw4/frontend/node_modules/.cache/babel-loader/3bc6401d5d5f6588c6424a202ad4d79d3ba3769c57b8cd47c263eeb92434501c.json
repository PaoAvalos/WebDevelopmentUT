{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport Post from '@/components/Post.vue';\nexport default {\n  name: 'home',\n  components: {\n    Post: Post\n  },\n  data: function data() {\n    return {\n      posts: []\n    };\n  },\n  methods: {\n    logout: function logout() {\n      var _this = this;\n      console.log(\"logging out\");\n      fetch(\"http://localhost:3000/api/logout\", {\n        credentials: 'include' //  Don't forget to specify this if you need cookies\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n        console.log('jwt removed');\n        //console.log('jwt removed:' + auth.authenticated());\n        _this.$router.push(\"/login\");\n        //location.assign(\"/\");\n      })[\"catch\"](function (e) {\n        console.log(e);\n        console.log(\"error logout\");\n      });\n    },\n    goToLogin: function goToLogin() {\n      this.$router.push(\"/login\");\n    },\n    addPost: function addPost() {\n      this.$router.push(\"/api/addpost\");\n    },\n    deleteAll: function deleteAll() {\n      var _this2 = this;\n      fetch(\"http://localhost:3000/api/posts\", {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (response) {\n        _this2.fetchPosts();\n        // this.$router.push(\"/api/home\");\n      })[\"catch\"](function (e) {\n        console.log(e);\n      });\n    },\n    fetchPosts: function fetchPosts() {\n      var _this3 = this;\n      fetch(\"http://localhost:3000/api/posts/\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return _this3.posts = data;\n      })[\"catch\"](function (err) {\n        return console.log(err.message);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.fetchPosts();\n    console.log(\"mounted\");\n  }\n};","map":{"version":3,"mappings":";;AAeA,OAAOA,IAAG,MAAO,uBAAsB;AAEvC,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,UAAU,EAAE;IACVF,IAAI,EAAJA;EACF,CAAC;EACDG,IAAI,kBAAG;IACL,OAAO;MACLC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,MAAM,oBAAG;MAAA;MACTC,OAAO,CAACC,GAAG,CAAC,aAAa;MACvBC,KAAK,CAAC,kCAAkC,EAAE;QACtCC,WAAW,EAAE,SAAS,CAAE;MAC5B,CAAC,EACAC,IAAI,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;MAAA,GAClCF,IAAI,CAAC,UAACR,IAAI,EAAK;QACdI,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;QACjBI,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;QAC1B;QACA,KAAI,CAACM,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC3B;MACF,CAAC,UACK,CAAC,UAACC,CAAC,EAAK;QACZT,OAAO,CAACC,GAAG,CAACQ,CAAC,CAAC;QACdT,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC;IACDS,SAAS,uBAAE;MACT,IAAI,CAACH,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IAC7B,CAAC;IACDG,OAAO,qBAAG;MACR,IAAI,CAACJ,OAAO,CAACC,IAAI,CAAC,cAAc,CAAC;IACnC,CAAC;IACDI,SAAS,uBAAE;MAAA;MACTV,KAAK,oCAAoC;QACvCW,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAChD,CAAC,EACIV,IAAI,CAAC,UAACC,QAAQ,EAAK;QAClB,MAAI,CAACU,UAAU,EAAE;QACjB;MACF,CAAC,UACK,CAAC,UAACN,CAAC,EAAK;QACZT,OAAO,CAACC,GAAG,CAACQ,CAAC,CAAC;MAChB,CAAC,CAAC;IACR,CAAC;IACDM,UAAU,wBAAG;MAAA;MACXb,KAAK,oCAAmC,CACnCE,IAAI,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,IAAI,EAAE;MAAA,GAClCF,IAAI,CAAC,UAACR,IAAI;QAAA,OAAM,MAAI,CAACC,KAAI,GAAID,IAAI;MAAA,CAAC,UAC7B,CAAC,UAACoB,GAAG;QAAA,OAAKhB,OAAO,CAACC,GAAG,CAACe,GAAG,CAACC,OAAO,CAAC;MAAA,EAAC;IAC/C;EACF,CAAC;EACDC,OAAO,qBAAG;IACR,IAAI,CAACH,UAAU,EAAE;IACjBf,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;EACxB;AAEA","names":["Post","name","components","data","posts","methods","logout","console","log","fetch","credentials","then","response","json","$router","push","e","goToLogin","addPost","deleteAll","method","headers","fetchPosts","err","message","mounted"],"sourceRoot":"","sources":["C:\\Users\\hendr\\WebDevelopmentUT\\hw4\\frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <button @click=\"logout()\">Logout</button>\r\n  <div class=\"container\">\r\n    <div class=\"sidebar\" style=\"left: 10px\"/>\r\n    <div class=\"main\" id=\"posts\">\r\n      <Post v-for=\"post in posts\" :data=\"post\"/>\r\n    </div>\r\n    <div class=\"sidebar\" style=\"right: 10px\"/>\r\n  </div>\r\n  <button @click=\"deleteAll()\">Delete All</button>\r\n  <!--here i need to check if person is logged in, so gotta pull the data from database -->\r\n  <button @click=\"addPost()\">Add Post</button>\r\n</template>\r\n\r\n<script>\r\nimport Post from '@/components/Post.vue'\r\n\r\nexport default {\r\n  name: 'home',\r\n  components: {\r\n    Post,\r\n  },\r\n  data() {\r\n    return {\r\n      posts: [],\r\n    };\r\n  },\r\n  methods: {\r\n    logout() {\r\n    console.log(\"logging out\")\r\n      fetch(\"http://localhost:3000/api/logout\", {\r\n          credentials: 'include', //  Don't forget to specify this if you need cookies\r\n      })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        console.log('jwt removed');\r\n        //console.log('jwt removed:' + auth.authenticated());\r\n        this.$router.push(\"/login\");\r\n        //location.assign(\"/\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        console.log(\"error logout\");\r\n      });\r\n    },\r\n    goToLogin(){\r\n      this.$router.push(\"/login\");\r\n    },\r\n    addPost() {\r\n      this.$router.push(\"/api/addpost\");\r\n    },\r\n    deleteAll(){\r\n      fetch(`http://localhost:3000/api/posts`, {\r\n        method: \"DELETE\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      })\r\n          .then((response) => {\r\n            this.fetchPosts();\r\n            // this.$router.push(\"/api/home\");\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n    },\r\n    fetchPosts() {\r\n      fetch(`http://localhost:3000/api/posts/`)\r\n          .then((response) => response.json())\r\n          .then((data) => (this.posts = data))\r\n          .catch((err) => console.log(err.message));\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchPosts();\r\n    console.log(\"mounted\");\r\n  },\r\n\r\n  }\r\n</script>\r\n\r\n<style>\r\nbody{\r\n  background-color: black;\r\n}\r\n.container{\r\n  display: flex;\r\n}\r\n.main {\r\n  display: inline-block;\r\n  width: 70%;\r\n  margin: 20px;\r\n}\r\n.sidebar {\r\n  display: inline-block;\r\n  position: relative;\r\n  margin: 20px;\r\n  width: 15%;\r\n  min-height: 100%;\r\n  background-color: rgb(57,91,100, 50%);\r\n  border-radius: 20px;\r\n  background-image: url(\"../assets/giphy.gif\");\r\n}\r\nbutton{\r\n  font-family: monospace;\r\n  font-size: 200%;\r\n  padding: 10px;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  margin: 30px 5px 0px 5px;\r\n}\r\nbutton:hover {\r\n  color: #E7F6F2;\r\n  background-color: #2C3333;\r\n  text-decoration: none;\r\n  shape-margin: inherit;\r\n  border-style: solid;\r\n  border-color: #2C3333;\r\n  margin: 30px 5px 0px 5px;\r\n}\r\n@media (max-width: 1000px) {\r\n  header {\r\n    font-size: 50%;\r\n  }\r\n  h1 {\r\n    margin-bottom: 0\r\n  }\r\n  .main {\r\n    width: 100%;\r\n    margin: 0;\r\n  }\r\n  .img {\r\n    width: 30px;\r\n    height: 30px\r\n  }\r\n  .container {\r\n    flex-direction: column;\r\n    width: 100%;\r\n    font-size: 100%;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}